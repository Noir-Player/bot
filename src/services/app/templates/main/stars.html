<!doctype html>
{% include 'components/head.html' %}

{% include 'components/navbar.html' %}

<style>
#tracks_table tr {
  cursor: move;
}
</style>
<body>

<main class="drawer-content">
<div class="hero min-h-[60vh] bg-base-200">
  <div class="hero-content flex-col lg:flex-row">
    <img src="https://cataas.com/cat?type=square&width=300" class="lg:max-w-sm rounded-lg shadow-2xl" />
    <div>
      <h1 class="text-5xl font-bold">Звездочки</h1>
      <div class="py-6">
        Здесь будут сохраняться ваши избранные треки <code>/stars</code>
      </div>
    </div>
  </div>
</div>

<div class="divider divider-primary">
  <div class="dropdown" id="search_dropdown">
    <div class="join my-4">
      <input type="text" placeholder="Добавить поиском..." class="join-item input input-bordered input-sm w-80" id="search_input" onchange="listen_tracks(this.value, document.getElementById('search_list'))"/>
      <button class="join-item btn rounded-l-lg btn-primary btn-sm no-animation"><code>enter</code></button>
    </div>
    <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-200 rounded-box w-80" id="search_list">
    </ul>
  </div>
</div>
<div class="flex justify-center">
  <div class="md:container">
  <table class="table bg-base-200 rounded-xl">
    <!-- head -->
    <tbody id="tracks_table" class="tracks_container">
      {% if stars %}
      {% for track in stars.get('tracks', []) %}
      {% set post_loop = loop %}
      {% include 'components/track.html' %}
      {% endfor %}
      {% endif %}
    </tbody>
    <!-- foot -->
  </table>
  </div>
</div>
<br>

</main>
</body>
{% include 'components/footer.html' %}
</html>