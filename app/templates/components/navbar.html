<!-- <div class="absolute z-20 top-0 inset-x-0 flex justify-center overflow-hidden pointer-events-none"><div class="w-[108rem] flex-none flex justify-end"><picture><img src="https://nextui.org/gradients/docs-right.png" alt="" class="w-[90rem] flex-none max-w-none hidden dark:block" decoding="async"></picture></div></div> -->

<!-- NAVBAR -->
<div id="navigation">
<div class="flex justify-center">
    <div class="md:container fixed top-2 z-50 flex flex-col">
        <nav class="navbar bg-base-100 shadow-xl rounded-box">
        <div class="navbar-start">
            <!-- drawer btns -->
            <label for="drawer" class="lg:flex hidden btn btn-ghost normal-case text-3xl hover:text-primary font-planet"><span class="material-symbols-outlined">
              menu
              </span></label>
            <label for="drawer" class="lg:hidden flex btn btn-ghost"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg></label>
          <!-- player controls -->
          {% if session.get('me') %}
          <div class="container px-8 hidden lg:flex" id="music-control-panel">
            <button class="btn btn-ghost btn-circle btn-sm text-primary" id="player_shuffle" onclick="player.shuffle()">
              <span class="material-symbols-outlined" id="player_shuffle_icon">
                shuffle
                </span>
            </button>
            <button class="btn btn-ghost btn-circle btn-sm" id="player_prev" onclick="player.prev()">
              <span class="material-symbols-outlined" id="player_prev_icon">
                skip_previous
                </span>
            </button>
            <button class="btn btn-ghost btn-circle btn-sm" id="player_play" onclick="player.pause()">
              <span class="material-symbols-outlined" id="player_play_icon">
                play_arrow
                </span>
            </button>
            <button class="btn btn-ghost btn-circle btn-sm" id="player_skip" onclick="player.skip()">
              <span class="material-symbols-outlined" id="player_skip_icon">
                skip_next
                </span>
            </button>
            <button class="btn btn-ghost btn-circle btn-sm text-primary" id="player_loop" onclick="player.loop()">
              <span class="material-symbols-outlined" id="player_loop_icon">
                repeat
                </span>
            </button>
          </div>
          <!-- player view -->
          {% endif %}
          <!-- end desktop navigation -->
          </div>
          
          <div tabindex="0" class="lg:flex hidden flex-col container collapse px-8  justify-self-center justify-center h-12 indicator w-full" id="music-view">
            <div class="flex flex-row bg-base-200 rounded-tr-lg rounded-l-lg w-full h-12 relative">
              <img class="rounded-l-lg" src="" id="track_thumbnail"/>
              <div class="absolute inset-0 rounded-lg flex items-center justify-center gap-2 opacity-0 hover:opacity-100 hover:backdrop-blur ease-out duration-200">
                <div class="tooltip tooltip-left" data-tip="В избранное" id="player_remove_tip">
                  <button class="btn btn-ghost btn-circle btn-sm text-primary" id="player_like" onclick="player.like()">
                    <span class="material-symbols-outlined">
                      favorite
                    </span>
                  </button>
                </div>
                <div class="tooltip tooltip-left" data-tip="Удалить">
                  <button class="btn btn-ghost btn-circle btn-sm text-primary" id="player_remove" onclick="player.remove()">
                    <span class="material-symbols-outlined">
                      delete_forever
                    </span>
                  </button>
                </div>
                <!-- <div class="tooltip tooltip-left" data-tip="Добавить">
                  <button class="btn btn-ghost btn-circle btn-sm text-primary" id="player_add">
                    <span class="material-symbols-outlined">
                      add_circle
                    </span>
                  </button>
                </div> -->
                <div class="tooltip tooltip-left" data-tip="Очередь">
                  <a class="btn btn-ghost btn-circle btn-sm text-primary" id="player_queue" href="/me/queue">
                    <span class="material-symbols-outlined">
                      queue_music
                    </span>
                  </a>
                </div>

                <!-- <div class="dropdown" id="search_dropdown">
                  <div class="join my-4">
                    <input type="text" placeholder="Добавить поиском..." class="join-item input input-bordered input-sm w-64" id="search_input" onchange="listen_tracks(this.value, document.getElementById('search_list'))"/>
                    <button class="join-item btn rounded-l-lg btn-primary btn-sm no-animation"><code>enter</code></button>
                  </div>
                  <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-200 rounded-box w-80" id="search_list">
                  </ul>
                </div> -->

              </div>
              <div class="flex flex-col w-full font-light text-center bg-base-300 rounded-t-lg">
                <p class="justify-self-center" id="track_title">{% if not session.me %}Войдите в аккаунт :-3{% else %}Выполните любое действие для подключения{% endif %}</p>
                <p class="justify-self-center text-sm text-base-content/50" id="track_author">Добавьте трек, плейлист, или нажмите на любую кнопку управления</p>
                <progress class="progress w-full self-end rounded-lg progress-primary" id="track_timeline"></progress>
              </div>
            </div>
          </div>
          
          <div class="navbar-end">
            {% if session.me %}
            <div class="container flex px-8 hidden lg:flex justify-self-center" id="music-control-volume">
              <span class="material-symbols-outlined">
                select_to_speak
                </span>
              <input type="range" onchange="player.volume(this.value)" min="0" max="200" value="100" class="range range-primary range-xs w-28 self-center mx-4" id="player_volume"/> 
            </div>
            {% endif %}
            <!-- user -->
            {% if session.get('me') %}
            <!-- <div class="dropdown dropdown-bottom dropdown-end"> -->
                <a tabindex="0" class="btn btn-ghost btn-circle avatar" href="/me">
                  <div class="w-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
                    <img class="user_avatar" src="https://cdn.discordapp.com/avatars/{{ session['me'].get('id') }}/{{ session['me'].get('avatar') }}"/>
                  </div>
                </a>
                <!-- <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-300 rounded-box w-32">
                    <li><a class="text-error" href="/logout"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                        </svg> Выйти</a></li>

                </ul> -->
              </div>
            {% else %}
            <a class="btn btn-outline btn-primary btn-sm normal-case" href="/oauth">Войти</a>
            {% endif %}
            <!-- end user -->
            </div>
        </nav>
    </div>
</div>

<!-- DRAWER -->
<div class="drawer text-center z-50">
  <input id="drawer" type="checkbox" class="drawer-toggle" />

  <div class="drawer-side">
    <label for="drawer" aria-label="close sidebar" class="drawer-overlay"></label>
    <div class="container p-4 w-80 min-h-full bg-base-100">
        <button class="btn btn-ghost normal-case btn-wide text-3xl hover:text-primary font-planet">Noir</button>
      <div class="divider divider-primary text-sm">Главная</div>

      <ul class="menu text-base-content">
        <li><a href="/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
          <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
        </svg> Домой</a></li>
        <li><a href="/playlists"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-music-note-list" viewBox="0 0 16 16">
          <path d="M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"/>
          <path fill-rule="evenodd" d="M12 3v10h-1V3h1z"/>
          <path d="M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1V2.82z"/>
          <path fill-rule="evenodd" d="M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5z"/>
        </svg> Discovery</a></li>
      </ul>
      
      <div class="divider divider-primary text-sm">Пользователь</div>

      {% if not session.get('me') %}
      <a class="btn btn-primary btn-sm my-2" href="/oauth">Войти</a>
      <p class="text-sm">Войдите, чтобы получить возможность создавать плейлисты и управлять плеером.</p>
      {% else %}
        <ul class="menu text-base-content">
          <li><a href="/me"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
          </svg> Профиль</a></li>
          <li><a href="/me/playlists"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-music-note-list" viewBox="0 0 16 16">
            <path d="M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"/>
            <path fill-rule="evenodd" d="M12 3v10h-1V3h1z"/>
            <path d="M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1V2.82z"/>
            <path fill-rule="evenodd" d="M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5z"/>
          </svg> Плейлисты</a></li>
          <li><a href="/me/stars"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
          </svg> Избранное</a></li>
          <li><a href="/me/servers"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sliders" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"/>
          </svg> Сервера</a></li>
        </ul>
        
      <div class="divider divider-primary text-sm">Плейлисты</div>
      
      <ul class="menu text-base-content" id="drawer_user_playlists"></ul>
      
      <div class="divider divider-primary text-sm">Настройка</div>
        
      <ul class="menu text-base-content" id="drawer_user_guilds"></ul>
      {% endif %}
      </div>
    </ul>
  </div>
</div>

<!-- mobile nav -->
<div class="btm-nav hidden z-50 bg-base-300">
  <a class="" href="/">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
      <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
    </svg>
    <span class="btm-nav-label">Домой</span>
  </a>
  <a class="" href="/playlists">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-music-note-list" viewBox="0 0 16 16">
      <path d="M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z"/>
      <path fill-rule="evenodd" d="M12 3v10h-1V3h1z"/>
      <path d="M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1V2.82z"/>
      <path fill-rule="evenodd" d="M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5z"/>
    </svg>
    <span class="btm-nav-label">Плейлисты</span>
  </a>
  <a class="" href="https://discord.gg/ua4kpgzpWJ">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-person-arms-up" viewBox="0 0 16 16">
      <path d="M8 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/>
      <path d="m5.93 6.704-.846 8.451a.768.768 0 0 0 1.523.203l.81-4.865a.59.59 0 0 1 1.165 0l.81 4.865a.768.768 0 0 0 1.523-.203l-.845-8.451A1.492 1.492 0 0 1 10.5 5.5L13 2.284a.796.796 0 0 0-1.239-.998L9.634 3.84a.72.72 0 0 1-.33.235c-.23.074-.665.176-1.304.176-.64 0-1.074-.102-1.305-.176a.72.72 0 0 1-.329-.235L4.239 1.286a.796.796 0 0 0-1.24.998l2.5 3.216c.317.316.475.758.43 1.204Z"/>
    </svg>
    <span class="btm-nav-label">Поддержка</span>
  </a>
</div>
</div>